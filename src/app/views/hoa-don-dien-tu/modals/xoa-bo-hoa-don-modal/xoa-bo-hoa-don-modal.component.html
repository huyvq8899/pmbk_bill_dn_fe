<nz-spin [nzSpinning]="spinning">
    <form nz-form [formGroup]="mainForm" *ngIf="mainForm">
        <div class="inner-content">
            <div class="box-border" style="margin: 5px">
                <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <div nz-col class="gutter-row" [nzSpan]="11">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="11" nzFor="kyHieu">Ký hiệu</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="13">
                                <input nzSize="small" nz-input formControlName="kyHieuShow" id="kyHieu" />
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="11" nzFor="soHoaDon" title="Số hóa đơn">
                                Số hóa đơn</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="13">
                                <input type="text" nzSize="small" nz-input formControlName="soHoaDonShow" id="soHoaDon" />
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 } " class="inner-box">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="11" nzFor="ngayHoaDon" title="Ngày hóa đơn">Ngày hóa đơn</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="13">
                                <input type="date" nzSize="small" nz-input formControlName="ngayHoaDonShow" id="ngayHoaDon" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col class="gutter-row pd-left-15" [nzSpan]="13" style="text-align: right;">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="7" nzFor="soCTXoaBo">Số chứng từ</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="17">
                                <input nzSize="small" nz-input formControlName="soCTXoaBo" id="soCTXoaBo" style="text-align: right;" />
                            </nz-form-control>
                        </nz-form-item>
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="10" nzFor="tongTienThanhToan">Tổng tiền thanh toán</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="14">
                                <input nzSize="small" nz-input formControlName="tongTienThanhToanShow" id="tongTienThanhToan" style="text-align: right;" />
                            </nz-form-control>
                        </nz-form-item>
                        <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }" style="text-align: right;">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="10" nzFor="">Trạng thái hóa đơn</nz-form-label>
                            <div *ngIf="(data?.backUpTrangThai == 0 || data?.backUpTrangThai==null);else showBackupTrangThai" nz-col class="gutter-row" [nzSpan]="14">
                                <span *ngIf="trangThaiShow == 1" class="lightBlueRoundedShape" style="float: right;" title="Hóa đơn gốc">{{txtHD_PXK_UPPER}} gốc</span>

                                <span *ngIf="trangThaiShow == 2" class="oldOrangeRoundedShape" style="float: right;" title="Hóa đơn xóa bỏ">Xóa bỏ</span>
                                <span *ngIf="trangThaiShow == 3" class="hoaDonThayTheRoundedShape" style="float: right;" title="Hóa đơn thay thế">{{txtHD_PXK_UPPER}} thay thế</span>

                                <span *ngIf="trangThaiShow == 4 && data?.loaiDieuChinh == 1" style="float: right;" class="hoaDonDieuChinhRoundedShape" title="Hóa đơn điều chỉnh tăng">{{txtHD_PXK_UPPER}} điều chỉnh
                                    <span class="circleHoaDonDieuChinhTang">
                                        <i nz-icon nzType="arrow-up" nzTheme="outline"></i>
                                    </span>
                                </span>

                                <span *ngIf="trangThaiShow == 4 && data?.loaiDieuChinh == 2" style="float: right;" class="hoaDonDieuChinhRoundedShape" title="Hóa đơn điều chỉnh giảm">{{txtHD_PXK_UPPER}} điều chỉnh
                                    <span class="circleHoaDonDieuChinhGiam">
                                        <i nz-icon nzType="arrow-down" nzTheme="outline"></i>
                                    </span>
                                </span>

                                <span *ngIf="trangThaiShow == 4 && data?.loaiDieuChinh == 3" class="hoaDonDieuChinhRoundedShape" title="Hóa đơn điều chỉnh thông tin">{{txtHD_PXK_UPPER}} điều chỉnh
                                    <span class="circleHoaDonDieuChinhThongTin">
                                      <i nz-icon nzType="info" nzTheme="outline"></i>
                                </span>
                                </span>

                            </div>
                            <ng-template #showBackupTrangThai>
                                <span *ngIf="data?.backUpTrangThai == 1" style="float: right;" class="lightBlueRoundedShape" title="Hóa đơn gốc">{{txtHD_PXK_UPPER}} gốc
                                </span>

                                <span *ngIf="data?.backUpTrangThai == 2" style="float: right;" class="oldOrangeRoundedShape" title="Hóa đơn xóa bỏ">Xóa bỏ
                                </span>
                                <span *ngIf="data?.backUpTrangThai == 3" style="float: right;" class="hoaDonThayTheRoundedShape" title="Hóa đơn thay thế">{{txtHD_PXK_UPPER}} thay thế</span>

                                <span *ngIf="data?.backUpTrangThai == 4 && data?.loaiDieuChinh == 1" style="float: right;" class="hoaDonDieuChinhRoundedShape" title="Hóa đơn điều chỉnh tăng">{{txtHD_PXK_UPPER}} điều chỉnh
                                    <span class="circleHoaDonDieuChinhTang">
                                        <i nz-icon nzType="arrow-up" nzTheme="outline"></i>
                                    </span>
                                </span>

                                <span *ngIf="data?.backUpTrangThai == 4 && data?.loaiDieuChinh == 2" style="float: right;" class="hoaDonDieuChinhRoundedShape" title="Hóa đơn điều chỉnh giảm">{{txtHD_PXK_UPPER}} điều chỉnh
                                    <span class="circleHoaDonDieuChinhGiam">
                                        <i nz-icon nzType="arrow-down" nzTheme="outline"></i>
                                    </span>
                                </span>

                                <span *ngIf="data?.backUpTrangThai == 4 && data?.loaiDieuChinh == 3" style="float: right;" class="hoaDonDieuChinhRoundedShape" title="Hóa đơn điều chỉnh thông tin">{{txtHD_PXK_UPPER}} điều chỉnh
                                    <span class="circleHoaDonDieuChinhThongTin">
                                      <i nz-icon nzType="info" nzTheme="outline"></i>
                                    </span>
                                </span>
                            </ng-template>
                        </div>

                    </div>
                </div>
                <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <nz-form-label nz-col class="gutter-row" [nzSpan]="5" nzFor="tenKhachHang">Tên khách hàng</nz-form-label>
                    <nz-form-control nz-col class="gutter-row" [nzSpan]="19">
                        <textarea rows="1" type="text" nz-input formControlName="tenKhachHangShow" id="tenKhachHang" tooltipInput></textarea>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <span nz-col class="gutter-row" [nzSpan]="5" nzFor="">&nbsp;</span>
                    <nz-form-control nz-col class="gutter-row" [nzSpan]="19">
                        <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="9" nzFor="">Trạng thái gửi hóa đơn khi xóa bỏ</nz-form-label>
                            <div nz-col class="gutter-row" [nzSpan]="15" style="text-align: right;position: relative;float: rigth;">
                                <span *ngIf="daGuiThongBaoXoaBoChoKhachHang" class="lightBlueRoundedShape" style="background-color: #15a85f !important;float: right;">Đã gửi cho khách
                                    hàng</span>
                                <span *ngIf="!daGuiThongBaoXoaBoChoKhachHang" class="lightBlueRoundedShape" style="display: initial;padding: 6px 10px;">Chưa gửi cho khách hàng</span>
                            </div>

                        </div>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div class="inner-content">
            <div style="margin: 12px">
                <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <div nz-col class="gutter-row" [nzSpan]="12">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="10" nzFor="ngayXoaBo" title="Ngày xóa bỏ">Ngày xóa bỏ</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="12">
                                <input type="date" nzSize="small" nz-input formControlName="ngayXoaBo" id="ngayXoaBo" tooltipInput />
                                <!-- <ng-template #errorNXB let-control>
                                    <ng-container *ngIf="control.hasError('required')">
                                        <div class="tooltip-error">Ngày xóa bỏ không được để trống.</div>
                                    </ng-container>
                                </ng-template> -->
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <!-- <div nz-col class="gutter-row xoabo" [nzSpan]="12" style="margin-left: -10px;">
                        <label style="margin-top: 5px; margin-bottom: 5px;" nz-checkbox [nzDisabled]='isNotCreatSubstituteDisable' title="{{tooltipNotCreatSubstitute}}" [(ngModel)]="isNotCreatSubstitute" [ngModelOptions]="{standalone: true}">
                          Hóa đơn hủy không cần lập thay thế
                        </label>
                        <i style="color: #1877f2;font-weight: bold;" nz-icon nzType="info-circle" nzTheme="outline" nzTooltipOverlayClassName="tootipCheckThayThe" nz-tooltip nzTooltipPlacement="right" nzTooltipColor="blue" nzTooltipOverlayStyle="padding:20px;color:white;" nzTooltipTitle="Trường hợp người bán lập hóa đơn khi thu tiền trước hoặc trong khi cung cấp dịch vụ theo quy định tại Khoản 2 Điều 9 Nghị định số 123/2020/NĐ-CP sau đó có phát sinh việc hủy hoặc chấm dứt việc cung cấp dịch vụ thì người bán thực hiện hủy hóa đơn điện tử đã lập và thông báo với cơ quan thuế về việc hủy hóa đơn theo Mẫu số 04/SS-HĐĐT tại Phụ lục IA ban hành kèm theo Nghị định số 123/2020/NĐ-CP (điểm b, khoản 1, điều 7 của Thông tư số 78/2021/TT-BTC)"></i>
                    </div> -->

                </div>
                <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="5" nzFor="ngayXoaBo" title="Hình thức xóa bỏ">Hình thức xóa bỏ <span style="color: red;">(*)</span>
                            </nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="19" [nzErrorTip]="errorHinhThuc">
                                <nz-select style="width: 100%;" formControlName="hinhThucXoabo" [nzDisabled]="isHinhThucXoabo" nzSize="small" nzShowSearch nzPlaceHolder="Chọn hình thức xóa bỏ" [(ngModel)]="this.selectedhinhThucXoabo">
                                    <ng-container *ngFor="let item of hinhThucXoabos">
                                        <nz-option *ngIf="item.show" nzCustomContent [nzLabel]="item.name" [nzValue]="item.id">
                                            <span nz-tooltip [nzTooltipTitle]="item.tooltipContent" nzTooltipPlacement="rightBottom">{{item.name}}</span>
                                        </nz-option>
                                    </ng-container>
                                </nz-select>
                                <ng-template #errorHinhThuc let-control>
                                    <ng-container *ngIf="control.hasError('required')">
                                        <div class="tooltip-error">Hình thức xóa bỏ không được để trống.</div>
                                    </ng-container>
                                </ng-template>
                            </nz-form-control>
                        </nz-form-item>
                    </div>

                </div>
                <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="5" nzFor="lyDoXoaBo" title="Lý do xóa bỏ">Lý do xóa bỏ <span style="color: red;">(*)</span>
                            </nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="19" [nzErrorTip]="errorLD">
                                <textarea rows="2" nz-input formControlName="lyDoXoaBo" id="lyDoXoaBo" tooltipInput></textarea>
                                <ng-template #errorLD let-control>
                                    <ng-container *ngIf="control.hasError('required')">
                                        <div class="tooltip-error">Lý do xóa bỏ không được để trống.</div>
                                    </ng-container>
                                </ng-template>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
                <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <div nz-col class="gutter-row" [nzSpan]="5">&nbsp;
                            </div>
                            <div nz-col class="gutter-row" [nzSpan]="19">
                                <label>Trạng thái biên bản hủy:
                                    <a (click)="viewBienBan()">
                                        <span *ngIf="data.trangThaiBienBanXoaBo == -10">Không cần lập biên bản</span>
                                        <span *ngIf="(data.trangThaiBienBanXoaBo == 0) || data.trangThaiBienBanXoaBo == null"
                                            style="color: red;">Chưa lập biên bản</span>
                                        <span *ngIf="data.trangThaiBienBanXoaBo == 1">Chưa ký</span>
                                        <span *ngIf="data.trangThaiBienBanXoaBo == 2">Chưa gửi cho khách hàng</span>
                                        <span *ngIf="data.trangThaiBienBanXoaBo == 3">Chờ khách hàng ký</span>
                                        <span *ngIf="data.trangThaiBienBanXoaBo == 4">Khách hàng đã ký</span>
                                    </a>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }" style="margin: 5px 0;">
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label nz-col class="gutter-row" [nzSpan]="5" nzFor="" title="" nzFor="taiLieuDinhKem">Đính kèm
                            </nz-form-label>
                            <nz-form-control *ngIf="isAddNew" nz-col class="gutter-row" [nzSpan]="5">
                                <button nz-button (click)="fImport.click()" class="blueButton" nzSize="small">
                                  <i nz-icon nzType="paper-clip" nzTheme="outline"></i>
                              Đính kèm...
                            </button>
                                <input id="fImport" type="file" #fImport (change)="uploadFile($event)" style="display: none;" multiple>
                            </nz-form-control>
                            <nz-form-control *ngIf="!isAddNew" nz-col class="gutter-row" [nzSpan]="5">
                                <button nz-button (click)="fImportShow.click()" class="blueButton" nzSize="small">
                                  <i nz-icon nzType="paper-clip" nzTheme="outline"></i>
                              Đính kèm...
                            </button>
                                <input id="fImport2" type="file" #fImportShow (change)="onFileInputSave($event)" style="display: none;" multiple>
                            </nz-form-control>

                            <div nz-col class="gutter-row" [nzSpan]="14">
                                <div class="file-list">
                                    <div class="file-item" *ngFor="let item of listFile">
                                        <a (click)="downloadFile(item)">{{item.tenGoc}}</a> &nbsp;&nbsp; <i style="color: red;cursor: pointer;" *ngIf="!fbBtnSaveDisable" (click)="deleteFile(item)" nz-icon nzType="close" nzTheme="outline"></i>
                                    </div>
                                </div>
                            </div>
                        </nz-form-item>
                    </div>
                </div> -->
                <div nz-row *ngIf="isAlertCustomShow" [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }" style="margin: 10px 0;">
                    <div nz-col style="margin-bottom: 8px;" class="gutter-row" [nzSpan]="24">
                        <label nz-checkbox [nzDisabled]="isGuiThongbao" [(ngModel)]="guiThongBaoXoaBoChoKhachHang" (ngModelChange)="changeGuiThongBaoChoKH($event)" [ngModelOptions]="{standalone: true}">Gửi
                            thông báo xóa bỏ hóa đơn cho khách hàng</label>
                    </div>
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label class="gutter-row" [nzSpan]="5" nzFor="hoTenNguoiNhanHD" title="Tên người nhận">Tên người nhận</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="19" [nzErrorTip]="errorTen">
                                <input type="text" nzSize="small" nz-input formControlName="hoTenNguoiNhanHD" />
                                <ng-template #errorTen let-control>
                                    <ng-container *ngIf="control.hasError('required') && guiThongBaoXoaBoChoKhachHang">
                                        Vui lòng nhập tên người nhận!
                                    </ng-container>
                                </ng-template>
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label class="gutter-row" [nzSpan]="5" nzFor="emailNguoiNhanHD" title="Email">Email</nz-form-label>

                            <div nz-col class="gutter-row" [nzSpan]="19">
                                <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                                    <nz-form-control nz-col class="gutter-row" [nzSpan]="21" [nzErrorTip]="errorEmail">
                                        <input type="text" nzSize="small" nz-input formControlName="emailNguoiNhanHD" placeholder='Mỗi Email cách nhau bằng dấu ";"' />
                                        <ng-template #errorEmail let-control>
                                            <ng-container *ngIf="control.hasError('required') && guiThongBaoXoaBoChoKhachHang">
                                                Vui lòng nhập email nhận hóa đơn!
                                            </ng-container>
                                            <ng-container *ngIf="!control.hasError('required') && control.hasError('email')">
                                                Nhập không đúng định dạng email, vui lòng kiểm tra lại!
                                            </ng-container>
                                        </ng-template>
                                    </nz-form-control>
                                    <div nz-col class="gutter-row" [nzSpan]="3" style="text-align: right;">
                                        <span style="color:#1877f2;font-weight: bold;padding-right: 6px;" nz-tooltip nzTooltipTitle='Mỗi Email cách nhau bởi dấu ";". Email không được sau định dạng. Email không được để trống'><strong><i
                                                    nz-icon nzType="info-circle" nzTheme="fill"></i></strong></span>
                                        <button class="button-default filterDefaultButton btn-bcc-cc" nz-button title="CC; BCC" (click)="ToggleButton()">
                                            <i *ngIf="!isboxEmailCcBcc" nz-icon nzType="down" nzTheme="outline"></i>
                                            <i *ngIf="isboxEmailCcBcc" nz-icon nzType="up" nzTheme="outline"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="ccbcc" *ngIf="isboxEmailCcBcc">
                                    <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                                        <div nz-col class="gutter-row pd-left-5" [nzSpan]="3" style="background-color: rgb(165,165,165);font-weight: bold;">
                                            <nz-form-label nzFor="emailCC" title="CC">CC</nz-form-label>
                                        </div>
                                        <div nz-col class="gutter-row pd-left-10" [nzSpan]="21">
                                            <nz-form-control [nzErrorTip]="errorEmailCC">
                                                <input type="text" nzSize="small" nz-input formControlName="cC" id="cC" multiple placeholder='Mỗi Email cách nhau bằng dấu ";"' />
                                                <ng-template #errorEmailCC let-control>
                                                    <ng-container *ngIf="control.hasError('email')">
                                                        Nhập không đúng định dạng email, vui lòng kiểm tra lại!
                                                    </ng-container>
                                                </ng-template>
                                            </nz-form-control>
                                        </div>
                                    </div>
                                    <div nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                                        <nz-form-label class="gutter-row pd-left-5" [nzSpan]="3" style="background-color: rgb(165,165,165);font-weight: bold;" nzFor="emailBCC" title="BCC">BCC</nz-form-label>
                                        <nz-form-control nz-col class="gutter-row pd-left-10" [nzSpan]="21" [nzErrorTip]="errorEmailBCC">
                                            <input type="text" nzSize="small" nz-input formControlName="bCC" id="bCC" multiple placeholder='Mỗi Email cách nhau bằng dấu ";"' />
                                            <ng-template #errorEmailBCC let-control>
                                                <ng-container *ngIf="control.hasError('email')">
                                                    Nhập không đúng định dạng email, vui lòng kiểm tra lại!
                                                </ng-container>
                                            </ng-template>
                                        </nz-form-control>
                                    </div>
                                </div>
                            </div>
                        </nz-form-item>
                    </div>
                    <div nz-col class="gutter-row" [nzSpan]="24">
                        <nz-form-item nz-row [nzGutter]="{ xs: 8, sm: 16, md: 24, lg: 32 }">
                            <nz-form-label class="gutter-row" [nzSpan]="5" nzFor="soDienThoaiNguoiNhanHD" title="Số điện thoại">Số điện thoại</nz-form-label>
                            <nz-form-control nz-col class="gutter-row" [nzSpan]="19">
                                <input type="text" nzSize="small" nz-input formControlName="soDienThoaiNguoiNhanHD" />
                            </nz-form-control>
                        </nz-form-item>
                    </div>
                </div>
            </div>

        </div>
    </form>
</nz-spin>

<div *nzModalFooter style="padding-right: 4px!important; ">
    <div nz-row>
        <div nz-col nzSpan="12" style="text-align: left;">
            <button nz-button nzType="default" nzSize="small" (click)="view()" class="blueButton" [disabled]="deleting"><i nz-icon
                    nzType="eye" nzTheme="outline"></i>Xem hóa đơn</button>
            <button *ngIf="isAddNew && !isCheckViewFromBB" nz-button nzType="default" nzSize="small" (click)="reselect()" class="filterDefaultButton" title="Chọn lại hóa đơn bị xóa bỏ" [disabled]="deleting"><i nz-icon
                    nzType="select" nzTheme="outline"></i>Chọn lại</button>
        </div>
        <div nz-col nzSpan="12" style="text-align: right;">
            <button nzSize="small" nz-button nzType="default" *ngIf="this.data.trangThai != 2 || (isAddNew && data.trangThai == 2 && data.isTBaoHuyKhongDuocChapNhan == true)" (click)="submitForm()" class="button-agree" [disabled]="deleting"><i nz-icon nzType="check" nzTheme="outline"></i>Thực hiện</button>
            <button nz-button nzType="default" nzSize="small" (click)="destroyModal()" class="button-cancel" [disabled]="deleting"><i nz-icon
                    nzSize="small" nzType="close"></i>Đóng</button>
        </div>
    </div>
</div>